<template id="custom-nav-template">
	<nav class="navbar navbar-expand-lg bg-body-tertiary sticky-top">
		<div class="container-fluid" id="nav-container">
			<div class="nav-item"><a class="navbar-brand" data-name="changelog" href="../index.html">Changelog</a></div>
			<div class="nav-item"><a class="navbar-brand" data-name="introduction" href="../introduction.html">Introduction</a></div>
			<div class="nav-item dropdown">
				<a class="navbar-brand dropdown-toggle" href="#" id="coreMenu" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Core System</a>
				<div class="dropdown-menu">
					<a href="../core-system.html" data-name="core-rules" class="dropdown-item">Core Rules</a>
					<a href="../core-system.html#order-of-combat" class="dropdown-item">Combat Rules</a>
					<a href="../equipment.html" data-name="equipment" class="dropdown-item">Equipment and Expenses</a>
					<a href="../skill-tricks.html" data-name="skill-tricks" class="dropdown-item">Skill Tricks</a>
				</div>
			</div>
			<div class="nav-item dropdown">
				<a class="navbar-brand dropdown-toggle" id="characterCreationMenu" href="#" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Character Creation</a>
				<div class="dropdown-menu" aria-labelledby="characterCreationMenu">
					<a href="../character-creation.html" data-name="character-creation" class="dropdown-item">Character Creation Basics</a>
					<a href="../lineages.html" data-name="lineages" class="dropdown-item">Lineages</a>
					<a href="../cultures.html" data-name="cultures" class="dropdown-item">Cultures</a>
					<a href="../backgrounds.html" data-name="backgrounds" class="dropdown-item">Backgrounds</a>
					<a href="../classes.html" data-name="classes" class="dropdown-item">Classes</a>
					<div class="dropdown-divider"></div>
					<a href="../classes/arcanist.html" data-name="arcanist" class="dropdown-item">Arcanist</a>
					<a href="../classes/armsman.html" data-name="armsman" class="dropdown-item">Armsman</a>
					<a href="../classes/brawler.html" data-name="brawler" class="dropdown-item">Brawler</a>
					<a href="../classes/oathbound.html" data-name="oathbound" class="dropdown-item">Oathbound</a>
					<a href="../classes/priest.html" data-name="priest" class="dropdown-item">Priest</a>
					<a href="../classes/ranger.html" data-name="ranger" class="dropdown-item">Ranger</a>
					<a href="../classes/rogue.html" data-name="rogue" class="dropdown-item">Rogue</a>
					<a href="../classes/shaman.html" data-name="shaman" class="dropdown-item">Shaman</a>
					<a href="../classes/spellblade.html" data-name="spellblade" class="dropdown-item">Spellblade</a>
					<a href="../classes/warden.html" data-name="warden" class="dropdown-item">Warden</a>
					<a href="../classes/warlock.html" data-name="warlock" class="dropdown-item">Warlock</a>
				</div>
			</div>
			<div class="nav-item dropdown">
				<a class="navbar-brand dropdown-toggle" id="spellsMenu" href="#" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Incantations, Spells, and Legendary Effects</a>
				<div class="dropdown-menu" aria-labelledby="spellsMenu">
					<a href="../spells.html" data-name="spells" class="dropdown-item">Spellcasting Rules</a>
					<a href="../spells/spell-lists.html" data-name="spell-lists" class="dropdown-item">Spell Summaries</a>
					<a href="../spells/allspells.html" data-name="allspells" class="dropdown-item">Spells, Alphabetical</a>
					<a href="../spells/incantations.html" data-name="incantations" class="dropdown-item">Incantations</a>
					<a href="../spells/legendary-effects.html" data-name="legendary-effects" class="dropdown-item">Legendary Effects</a>
				</div>
			</div>
			<div class="nav-item dropdown">
				<a class="navbar-brand dropdown-toggle" id="itemsMenu" href="#" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Magic Items</a>
				<div class="dropdown-menu" aria-labelledby="itemsMenu">
					<a href="../items.html" data-name="items" class="dropdown-item">Rules and Crafting</a>
					<a href="../items/armor.html" data-name="armor" class="dropdown-item">Armor and Clothing</a>
					<a href="../items/potions.html" data-name="potions" class="dropdown-item">Consumables</a>
					<a href="../items/rings.html" data-name="rings" class="dropdown-item">Rings</a>
					<a href="../items/wands.html" data-name="wands" class="dropdown-item">Rods and Wands</a>
					<a href="../items/weapons.html" data-name="weapons" class="dropdown-item">Weapons</a>
					<a href="../items/misc.html" data-name="misc" class="dropdown-item">Wondrous Items</a>
				</div>
			</div>
			<div class="nav-item dropdown">
				<a class="navbar-brand dropdown-toggle" href="#" id="monstersMenu"  data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Monsters</a>
				<div class="dropdown-menu" aria-labelledby="monstersMenu">
					<a href="monsters.html" data-name="monsters" class="dropdown-item">Monster Rules</a>
					<a href="aberrations.html" data-name="aberrations" class="dropdown-item">Aberrations</a>
					<a href="beasts.html" data-name="beasts" class="dropdown-item">Beasts</a>
					<a href="celestials.html" data-name="celestials" class="dropdown-item">Celestials</a>
					<a href="constructs.html" data-name="constructs" class="dropdown-item">Constructs</a>
					<a href="dragons.html" data-name="dragons" class="dropdown-item">Dragons</a>
					<a href="elementals.html" data-name="elementals" class="dropdown-item">Elementals</a>
					<a href="fey.html" data-name="fey" class="dropdown-item">Fey</a>
					<a href="fiends.html" data-name="fiends" class="dropdown-item">Fiends</a>
					<a href="giants.html" data-name="giants" class="dropdown-item">Giants</a>
					<a href="humanoids.html" data-name="humanoids" class="dropdown-item">Humaniods</a>
					<a href="monstrosities.html" data-name="monstrosities" class="dropdown-item">Monstrosities</a>
					<a href="oozes.html" data-name="oozes" class="dropdown-item">Oozes</a>
					<a href="plants.html" data-name="plants" class="dropdown-item">Plants</a>
					<a href="undead.html" data-name="undead" class="dropdown-item">Undead</a>
				</div>
			</div>
			<div class="nav-item dropdown">
				<a class="navbar-brand dropdown-toggle" href="#" id="appendixMenu"  data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Appendixes</a>
				<div class="dropdown-menu">
					<a href="../conditions.html" data-name="conditions" class="dropdown-item">Conditions</a>
					<a href="../examples.html" data-name="examples" class="dropdown-item">Examples</a>
					<a href="../world.html" data-name="world" class="dropdown-item">The World of Quartus</a>
				</div>
			</div>
		</div>
	</nav>
</template>


<script>
	class CustomNav extends HTMLElement {
		static observedAttributes = ['data-page'];
			constructor(){
			super();
			const template = document.getElementById("custom-nav-template").content;
			const shadowRoot = this.attachShadow({mode: 'open'});
			shadowRoot.appendChild(template.cloneNode(true));
		}

		connectedCallback() {}

		attributeChangedCallback(name, old, value) {
			if (name === 'data-page') {
				let links = Array.from(shadowRoot.querySelectorAll('a')).filter(x => x.getAttribute('data-name'));
				links.forEach(a => {
					if (a.getAttribute('data-name') == value) {
						a.className = "dropdown-item active"
					} else {
						a.className = "dropdown-item"	
					} 
				});
			}
		}
	}

	window.customElements.define('custom-nav', CustomNav);
</script>

